# 隐私集合求交
## 隐私求交技术简述
  
  隐私数据保护最早源于安全多方计算(secure multiparty computation,MPC)，由姚期智借百万富翁问题提出，指各计算参与方无法得到除计算结果外的任何其他信息，解决互不信任的数据持有者如何对隐私数据进行计算的问题.隐私求交(Private Set Intersection ,PSI)，是安全多方计算中的一个典型问题，指参与双方在不泄露任何额外信息的情况下，得到双方持有数据的交集。在这里，额外的信息指的是除了双方的数据交集以外的任何信息。
在需要隐私保护的场景中，PSI技术具有重要意义，包括实名认证（多因素核验）、联合风控、数据对齐、数据发现等。
对隐私求交协议的简单分类可以从两个方面入手，从安全假设角度分类，隐私求交协议在发展中从诚实模型、半诚实模型逐步发展到恶意模型下的PSI协议；而从参与方数量分类，隐私求交协议也从最初的两方隐私求交协议逐步扩展到目前的各种多方隐私求交协议。
  Meadows基于公钥加密和利用Diffie—Hellman密钥交换的乘法同态性质提出了第1个PSI协议。随后，由Huberman等人对Meadows的方案做出了完整描述。以下便是对基于Diffie-Hellman密钥交换的PSI协议的简要流程介绍：
- A拥有数据x_1,x_2,…,x_m，B拥有数据y_1,y_2,…,y_n
- A对数据哈希并使用加密得到U_A，并发送给𝐵
![image](https://github.com/boyanet/yape-docs/assets/27774830/ed367cbb-3159-4d8c-8b18-9a8adc58f0db)
- B对数据哈希并使用加密得到U_B，并发送给𝐴。
![image](https://github.com/boyanet/yape-docs/assets/27774830/e747e4b9-4bfb-43fb-a112-5428ea0e2629)
- 同时B对收到的U_A加密得到U_AB，并发送给A。
![image](https://github.com/boyanet/yape-docs/assets/27774830/af220ef6-3686-469f-b840-b894d60014cb)
- A对收到的U_B加密得到U_BA
![image](https://github.com/boyanet/yape-docs/assets/27774830/fccf5c37-dbfd-44b0-ae21-a27bb9cb951e)
- 求取U_AB和U_BA的交集，就是两方所共同持有的数据。
- 该算法的核心是需要找到一个满足连续两次加密操作（两方先后加密）可以交换顺序的加密算法，实际应用中，此加密算法需要事先约定一个大素数，加密操作为用各自选定的α,β值进行幂次运算并针对大素数取模。

  之后涌现了大量PSI的研究成果，一大批新技术手段和构造框架被提出。除了传统的安全多方计算理论中的混淆电路(garbled circuit，GC)、不经意传输(oblivious transfer，OT)、秘密共享(secret sharing，SS)、同态加密(homomorphic encryption，HE)等技术外，不经意伪随机函数(oblivious pseudo random function，OPRF)、不经意多项式求值(oblivious polynomial evaluation，OPE)、布隆过滤器(Bloom filter，BF)等集合元素比较技术的应用，使得PSI的效率得到了很大的提高。

  随着研究人员对隐私集合交集协议的深入研究，除了传统两方PSI协议之外，已衍生出了云辅助PSI、阈值PSI( threshold PSI，TPSI)、不平衡PSI(unbalanced PSI，UPSI)和多方PSI新型应用场景。其中云辅助PSI是随着云技术的发展和成熟逐渐成为热点，云服务器具有高计算能力和存储容量，为现有的PSI协议提供了成熟的优化方法，云辅助PSI协议可分为数据加密和数据盲化2种。阈值PSI指当交集的基数大于或等于门限值时，接收方才能获得隐私集合交集，如网约顺风车场景中，在不泄露陌生人路径的情况下如何共享双方的公共路径是该场景的重点问题。不平衡PSI是在某些实际应用——如隐私联系人发现——中，客户拥有几百到几千个联系人集合，而服务方拥有百万甚至千万级的用户集合，它们的集合大小不平衡，技术能力和存储空问也相差甚远，使用传统PSI协议，它们的通信开销和计算开销均与较大集合成线性关系，会导致客户端需承受巨大的存储与计算开销，这也就激发了对不平衡PSI的研究。隐私集合交集目前存在的高效协议大多只针对两方设置，多方高效的PSI协议仍有长足的发展空间，这可能与各方之间不可避免的通信而导致极大的通信成本有关。目前关于多方设置的PSI协议大多采用2种网络模型：1)星型拓扑网络结构减少双方之问的中间交流，但给指定方带来了很高的工作量；2)星型——路径网络结构其使每一方(除指定方)的通信量和计算复杂度仅取决于自身输入集大小。
  目前，PSI技术未来的主要研究方向主要在4个方面：一是考虑威胁性更高的场景；二是考虑更多的参与方；三是面向通过PSI协议得到交集数据仍然是敏感数据的应用场景构建定制化协议，允许参与方在交集保密的情况下对交集中的元素进行进一步的处理与运算操作；四是提升现有方案效率，构建面向海量数据的高效PSI协议，提升大数据场景下的运算速度。



